(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{4559:function(e,r,t){Promise.resolve().then(t.bind(t,2630))},2630:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var a=t(7437),s=t(2265),n=t(1396),i=t.n(n),o=t(4033),l=t(575),d=t(5671),c=t(4030);let u=(0,s.createContext)({user:null,userProfile:null,loading:!1,isAuthenticated:!1,refreshAuth:()=>{}}),m=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};function f(){let e=(0,o.useRouter)(),r=(0,o.useSearchParams)(),{isAuthenticated:t,loading:n,refreshAuth:u}=m(),[f,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)(""),[p,y]=(0,s.useState)(""),[b,v]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:""}),w=(null==r?void 0:r.get("redirect"))||"/dashboard";(0,s.useEffect)(()=>{!n&&t&&e.push(w)},[n,t,e,w]);let j=(e,r)=>{v(t=>({...t,[e]:r}))},N=async r=>{if(r.preventDefault(),!b.name||!b.email||!b.password||!b.confirmPassword){g("Please fill in all fields");return}if(b.password!==b.confirmPassword){g("Passwords do not match");return}if(b.password.length<6){g("Password must be at least 6 characters long");return}if(b.name.length<2){g("Name must be at least 2 characters long");return}try{x(!0),g(""),y(""),await (0,c.Yi)({name:b.name,email:b.email,password:b.password}),y("Account created successfully! Please check your email to verify your account."),setTimeout(()=>{e.push("/auth/verify-email")},2e3)}catch(e){console.error("Registration error:",e),g(e.message||"Failed to create account. Please try again.")}finally{x(!1)}},_=async()=>{try{x(!0),g(""),await (0,c.Cb)(),u()}catch(e){console.error("Google registration error:",e),g(e.message||"Failed to sign up with Google. Please try again.")}finally{x(!1)}};return n?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):t?null:(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center justify-center space-x-2 mb-8",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-xl",children:"3"})}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"3arida"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join 3arida"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Create your account and start making change happen in Morocco"})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Create Account"})}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.z,{onClick:_,disabled:f,variant:"outline",className:"w-full flex items-center justify-center space-x-2",children:[(0,a.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,a.jsx)("span",{children:"Continue with Google"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or create account with email"})})]}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,a.jsx)("input",{type:"text",required:!0,value:b.name,onChange:e=>j("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),(0,a.jsx)("input",{type:"email",required:!0,value:b.email,onChange:e=>j("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",required:!0,value:b.password,onChange:e=>j("password",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Create a password",minLength:6})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",required:!0,value:b.confirmPassword,onChange:e=>j("confirmPassword",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Confirm your password",minLength:6})]}),h&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,a.jsx)("p",{className:"text-red-600 text-sm",children:h})}),p&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:(0,a.jsx)("p",{className:"text-green-600 text-sm",children:p})}),(0,a.jsx)(l.z,{type:"submit",disabled:f,className:"w-full",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(i(),{href:"/auth/login".concat("/dashboard"!==w?"?redirect=".concat(encodeURIComponent(w)):""),className:"text-green-600 hover:text-green-500 font-medium",children:"Sign in"})]})})]})})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["By creating an account, you agree to our"," ",(0,a.jsx)(i(),{href:"/terms",className:"text-green-600 hover:text-green-500",children:"Terms of Service"})," ","and"," ",(0,a.jsx)(i(),{href:"/privacy",className:"text-green-600 hover:text-green-500",children:"Privacy Policy"})]})]})})}},575:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var a=t(7437),s=t(2265),n=t(4949),i=t(6061),o=t(2169);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:t})),ref:r,...c})});d.displayName="Button"},5671:function(e,r,t){"use strict";t.d(r,{Ol:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var a=t(7437),s=t(2265),n=t(2169);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});l.displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},4030:function(e,r,t){"use strict";t.d(r,{Cb:function(){return i},Yi:function(){return n},c0:function(){return o}});let a=new Map,s=null,n=async e=>{if(await new Promise(e=>setTimeout(e,1e3)),Array.from(a.values()).find(r=>r.email===e.email))throw Error("User already exists with this email");let r="user_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),t={uid:r,email:e.email,password:e.password,name:e.name,emailVerified:!1};a.set(r,t);let n={user:{uid:r,email:e.email,displayName:e.name,emailVerified:!1}};return s=n.user,localStorage.setItem("mockAuth_currentUser",JSON.stringify(s)),n},i=async()=>{await new Promise(e=>setTimeout(e,1500));let e={uid:"google_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),email:"user@gmail.com",name:"Google User",emailVerified:!0},r=Array.from(a.values()).find(r=>r.email===e.email);r||a.set(e.uid,{uid:e.uid,email:e.email,password:"",name:e.name,emailVerified:!0});let t={user:{uid:(null==r?void 0:r.uid)||e.uid,email:e.email,displayName:e.name,emailVerified:!0}};return s=t.user,localStorage.setItem("mockAuth_currentUser",JSON.stringify(s)),t},o=async e=>{if(await new Promise(e=>setTimeout(e,1e3)),!Array.from(a.values()).some(r=>r.email===e))throw Error("No user found with this email address");console.log("Password reset email sent to ".concat(e))};a.set("test_user_1",{uid:"test_user_1",email:"test@example.com",password:"password123",name:"Test User",emailVerified:!0}),a.set("admin_user",{uid:"admin_user",email:"admin@3arida.com",password:"admin123",name:"Admin User",emailVerified:!0}),a.set("demo_user",{uid:"demo_user",email:"demo@3arida.com",password:"demo123",name:"Demo User",emailVerified:!0}),a.set("user_1",{uid:"user_1",email:"user@3arida.com",password:"123456",name:"Regular User",emailVerified:!0})},2169:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var a=t(7042),s=t(4769);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}},622:function(e,r,t){"use strict";var a=t(2265),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,r,t){var a,n={},d=null,c=null;for(a in void 0!==t&&(d=""+t),void 0!==r.key&&(d=""+r.key),void 0!==r.ref&&(c=r.ref),r)i.call(r,a)&&!l.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===n[a]&&(n[a]=r[a]);return{$$typeof:s,type:e,key:d,ref:c,props:n,_owner:o.current}}r.Fragment=n,r.jsx=d,r.jsxs=d},7437:function(e,r,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[680,396,971,938,744],function(){return e(e.s=4559)}),_N_E=e.O()}]);