(()=>{var e={};e.id=254,e.ids=[254],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},24937:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(50482),i=t(69108),a=t(62563),n=t.n(a),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["admin-setup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,46855)),"/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/admin-setup/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,33990)),"/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/admin-setup/page.tsx"],u="/admin-setup/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin-setup/page",pathname:"/admin-setup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},97512:(e,s,t)=>{Promise.resolve().then(t.bind(t,83632))},83632:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(95344),i=t(3729),a=t(87382),n=t(87097),o=t(81012),l=t(5094),d=t(23673),c=t(84454);function u(){let{user:e,userProfile:s}=(0,a.useAuth)(),[t,u]=(0,i.useState)(!1),[p,m]=(0,i.useState)(""),x=async()=>{if(!e){m("❌ You must be logged in to become an admin");return}u(!0),m("");try{let s=(0,n.doc)(o.db,"users",e.uid),t=await (0,n.getDoc)(s),r=t.exists()?t.data():{};await (0,n.setDoc)(s,{...r,id:e.uid,name:r.name||e.displayName||e.email?.split("@")[0]||"Admin",email:e.email||"",role:"admin",verifiedEmail:e.emailVerified||!1,verifiedPhone:r.verifiedPhone||!1,isActive:!0,createdAt:r.createdAt||new Date,updatedAt:new Date,lastLoginAt:new Date},{merge:!0}),m("✅ Success! You are now an admin. Refresh the page to see admin features."),setTimeout(()=>{window.location.reload()},2e3)}catch(e){console.error("Error making user admin:",e),m("❌ Failed to make you an admin. Check console for details.")}finally{u(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(c.Z,{}),r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-12",children:(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{children:r.jsx(d.ll,{className:"text-2xl text-center",children:"\uD83D\uDD27 Admin Setup"})}),(0,r.jsxs)(d.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Use this page to set up admin access for petition moderation."}),e?(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Current User:"})," ",e.email]}),(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Current Role:"})," ",s?.role||"user"]})]}):r.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:r.jsx("p",{className:"text-yellow-800",children:"⚠️ You must be logged in to use this page"})})]}),p&&r.jsx("div",{className:`p-4 rounded-lg ${p.includes("✅")?"bg-green-50 text-green-800":p.includes("❌")?"bg-red-50 text-red-800":"bg-yellow-50 text-yellow-800"}`,children:p}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(l.z,{onClick:x,disabled:t||!e,className:"w-full",size:"lg",children:t?"Setting up...":"\uD83D\uDC51 Make Me Admin"}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-sm text-gray-500",children:"This will give you admin access to approve/reject petitions"})})]}),(0,r.jsxs)("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"After becoming admin, you can:"}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("li",{children:["• Access the admin dashboard at ",r.jsx("code",{children:"/admin"})]}),r.jsx("li",{children:"• Approve or reject pending petitions"}),r.jsx("li",{children:"• Manage users and their roles"}),r.jsx("li",{children:"• View platform statistics"}),r.jsx("li",{children:"• Moderate content and comments"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDEA8 Security Note"}),r.jsx("p",{className:"text-sm text-gray-600",children:"In production, admin access should be granted through a secure process. This setup page is for development/testing purposes only."})]})]})]})})]})}},46855:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>a,__esModule:()=>i,default:()=>n});let r=(0,t(86843).createProxy)(String.raw`/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/admin-setup/page.tsx`),{__esModule:i,$$typeof:a}=r,n=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1638,322,8584,783,2569,8415,4454],()=>t(24937));module.exports=r})();