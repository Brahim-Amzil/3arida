(()=>{var e={};e.id=254,e.ids=[254],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},24937:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d});var s=r(50482),n=r(69108),a=r(62563),i=r.n(a),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["admin-setup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,46855)),"/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/admin-setup/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,33990)),"/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/admin-setup/page.tsx"],c="/admin-setup/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin-setup/page",pathname:"/admin-setup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},97512:(e,t,r)=>{Promise.resolve().then(r.bind(r,83632))},53267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=r(39694);r(3729);let n=s._(r(60546));function a(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){let r=n.default,s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e),Object.assign(s,t);let i=s.loader;return r({...s,loader:()=>null!=i?i().then(a):Promise.resolve(a(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return n}});let s=r(61462);function n(e){let{children:t}=e;return(0,s.throwWithNoSSR)(),t}},60546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let s=r(39694)._(r(3729)),n=r(91868),a=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function r(e){let r=t.loading,a=s.default.createElement(r,{isLoading:!0,pastDelay:!0,error:null}),i=t.ssr?s.default.Fragment:n.NoSSR,l=t.lazy;return s.default.createElement(s.default.Suspense,{fallback:a},s.default.createElement(i,null,s.default.createElement(l,e)))}return t.lazy=s.default.lazy(t.loader),r.displayName="LoadableComponent",r}},83632:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344),n=r(3729),a=r(87382),i=r(87097),l=r(81012),o=r(5094),d=r(23673),u=r(49151);function c(){let{user:e,userProfile:t}=(0,a.useAuth)(),[r,c]=(0,n.useState)(!1),[p,m]=(0,n.useState)(""),f=async()=>{if(!e){m("❌ You must be logged in to become an admin");return}c(!0),m("");try{let t=(0,i.doc)(l.db,"users",e.uid),r=await (0,i.getDoc)(t),s=r.exists()?r.data():{};await (0,i.setDoc)(t,{...s,id:e.uid,name:s.name||e.displayName||e.email?.split("@")[0]||"Admin",email:e.email||"",role:"admin",verifiedEmail:e.emailVerified||!1,verifiedPhone:s.verifiedPhone||!1,isActive:!0,createdAt:s.createdAt||new Date,updatedAt:new Date,lastLoginAt:new Date},{merge:!0}),m("✅ Success! You are now an admin. Refresh the page to see admin features."),setTimeout(()=>{window.location.reload()},2e3)}catch(e){console.error("Error making user admin:",e),m("❌ Failed to make you an admin. Check console for details.")}finally{c(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(u.default,{}),s.jsx("div",{className:"max-w-2xl mx-auto px-4 py-12",children:(0,s.jsxs)(d.Zb,{children:[s.jsx(d.Ol,{children:s.jsx(d.ll,{className:"text-2xl text-center",children:"\uD83D\uDD27 Admin Setup"})}),(0,s.jsxs)(d.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Use this page to set up admin access for petition moderation."}),e?(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Current User:"})," ",e.email]}),(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Current Role:"})," ",t?.role||"user"]})]}):s.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:s.jsx("p",{className:"text-yellow-800",children:"⚠️ You must be logged in to use this page"})})]}),p&&s.jsx("div",{className:`p-4 rounded-lg ${p.includes("✅")?"bg-green-50 text-green-800":p.includes("❌")?"bg-red-50 text-red-800":"bg-yellow-50 text-yellow-800"}`,children:p}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(o.z,{onClick:f,disabled:r||!e,className:"w-full",size:"lg",children:r?"Setting up...":"\uD83D\uDC51 Make Me Admin"}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"This will give you admin access to approve/reject petitions"})})]}),(0,s.jsxs)("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"After becoming admin, you can:"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,s.jsxs)("li",{children:["• Access the admin dashboard at ",s.jsx("code",{children:"/admin"})]}),s.jsx("li",{children:"• Approve or reject pending petitions"}),s.jsx("li",{children:"• Manage users and their roles"}),s.jsx("li",{children:"• View platform statistics"}),s.jsx("li",{children:"• Moderate content and comments"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDEA8 Security Note"}),s.jsx("p",{className:"text-sm text-gray-600",children:"In production, admin access should be granted through a secure process. This setup page is for development/testing purposes only."})]})]})]})})]})}},49151:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(53267);let n=r.n(s)()(async()=>{},{loadableGenerated:{modules:["/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/components/layout/HeaderWrapper.tsx -> ./Header"]},ssr:!1,loading:()=>null})},5094:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(95344),n=r(3729),a=r(45877),i=r(49247),l=r(11453);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},d)=>{let u=n?a.g7:"button";return s.jsx(u,{className:(0,l.cn)(o({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},23673:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,Zb:()=>i,aY:()=>d,ll:()=>o});var s=r(95344),n=r(3729),a=r(11453);let i=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=n.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",n.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},11453:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(56815),n=r(79377);function a(...e){return(0,n.m6)((0,s.W)(e))}},46855:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`/Users/brahimamzil/Downloads/DEV_APPS/----3arida/3arida-app/src/app/admin-setup/page.tsx`),{__esModule:n,$$typeof:a}=s,i=s.default},45877:(e,t,r)=>{"use strict";r.d(t,{g7:()=>i});var s=r(3729);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var a=r(95344),i=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...a}=e;if(s.isValidElement(r)){let e,i;let l=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,o=function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{let t=a(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==s.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}(t,l):l),s.cloneElement(r,o)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:n,...i}=e,l=s.Children.toArray(n),d=l.find(o);if(d){let e=d.props.children,n=l.map(t=>t!==d?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...i,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,a.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}("Slot"),l=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},49247:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var s=r(56815);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.W,i=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==l?void 0:l[e];if(null===t)return null;let a=n(t)||n(s);return i[e][a]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,o,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,322,4697,4983],()=>r(24937));module.exports=s})();